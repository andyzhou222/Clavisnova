2025-12-27 19:23:24,856 | ERROR    | clavisnova:get_registrations:335 - Get registrations error: (sqlite3.OperationalError) no such column: registrations.manufacturer
[SQL: SELECT count(*) AS count_1 
FROM (SELECT registrations.id AS registrations_id, registrations.manufacturer AS registrations_manufacturer, registrations.model AS registrations_model, registrations.serial AS registrations_serial, registrations.year AS registrations_year, registrations.height AS registrations_height, registrations.finish AS registrations_finish, registrations.color_wood AS registrations_color_wood, registrations.city_state AS registrations_city_state, registrations.ip_address AS registrations_ip_address, registrations.user_agent AS registrations_user_agent, registrations.created_at AS registrations_created_at, registrations.updated_at AS registrations_updated_at 
FROM registrations) AS anon_1]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2025-12-27 19:24:14,773 | ERROR    | clavisnova:create_registration:210 - Database error during registration save: (sqlite3.OperationalError) table registrations has no column named manufacturer
[SQL: INSERT INTO registrations (manufacturer, model, serial, year, height, finish, color_wood, city_state, ip_address, user_agent) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('piano', '1', '#1', 2025, '10', 'polished', 'white', 'New York', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2025-12-27 19:24:14,774 | ERROR    | clavisnova:create_registration:223 - Registration error: (sqlite3.OperationalError) table registrations has no column named manufacturer
[SQL: INSERT INTO registrations (manufacturer, model, serial, year, height, finish, color_wood, city_state, ip_address, user_agent) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('piano', '1', '#1', 2025, '10', 'polished', 'white', 'New York', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
Traceback (most recent call last):
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, statement, parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: table registrations has no column named manufacturer

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/Zhuanz/Documents/Piano/backend/main.py", line 211, in create_registration
    raise db_error
  File "/Users/Zhuanz/Documents/Piano/backend/main.py", line 205, in create_registration
    db.commit()
    ~~~~~~~~~^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1451, in commit
    self._transaction.commit(_to_root=self.future)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 3444, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 3583, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    ~~~~~~~~~~~~~^
        exc_value,
        ^^^^^^^^^^
        with_traceback=exc_tb,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 3544, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 245, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 1238, in _emit_insert_statements
    result = connection._execute_20(
        statement,
        params,
        execution_options=execution_options,
    )
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 334, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, multiparams, params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, statement, parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
    ~~~~~~~~~~~^
        sqlalchemy_exception, with_traceback=exc_info[2], from_=e
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, statement, parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table registrations has no column named manufacturer
[SQL: INSERT INTO registrations (manufacturer, model, serial, year, height, finish, color_wood, city_state, ip_address, user_agent) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('piano', '1', '#1', 2025, '10', 'polished', 'white', 'New York', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2025-12-27 19:24:34,101 | ERROR    | clavisnova:create_registration:210 - Database error during registration save: (sqlite3.OperationalError) table registrations has no column named manufacturer
[SQL: INSERT INTO registrations (manufacturer, model, serial, year, height, finish, color_wood, city_state, ip_address, user_agent) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('piano', '1', '#1', 2025, '10', 'polished', 'white', 'New York', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2025-12-27 19:24:34,101 | ERROR    | clavisnova:create_registration:223 - Registration error: (sqlite3.OperationalError) table registrations has no column named manufacturer
[SQL: INSERT INTO registrations (manufacturer, model, serial, year, height, finish, color_wood, city_state, ip_address, user_agent) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('piano', '1', '#1', 2025, '10', 'polished', 'white', 'New York', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
Traceback (most recent call last):
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, statement, parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: table registrations has no column named manufacturer

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/Zhuanz/Documents/Piano/backend/main.py", line 211, in create_registration
    raise db_error
  File "/Users/Zhuanz/Documents/Piano/backend/main.py", line 205, in create_registration
    db.commit()
    ~~~~~~~~~^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1451, in commit
    self._transaction.commit(_to_root=self.future)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 3444, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 3583, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    ~~~~~~~~~~~~~^
        exc_value,
        ^^^^^^^^^^
        with_traceback=exc_tb,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 3544, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 245, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 1238, in _emit_insert_statements
    result = connection._execute_20(
        statement,
        params,
        execution_options=execution_options,
    )
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 334, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, multiparams, params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, statement, parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
    ~~~~~~~~~~~^
        sqlalchemy_exception, with_traceback=exc_info[2], from_=e
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, statement, parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/Zhuanz/Documents/Piano/.venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table registrations has no column named manufacturer
[SQL: INSERT INTO registrations (manufacturer, model, serial, year, height, finish, color_wood, city_state, ip_address, user_agent) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('piano', '1', '#1', 2025, '10', 'polished', 'white', 'New York', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2025-12-27 19:28:49,834 | ERROR    | clavisnova:export_registrations:521 - Export registrations error: No module named 'openpyxl'
2025-12-27 19:28:49,835 | ERROR    | clavisnova:export_requirements:606 - Export requirements error: No module named 'openpyxl'
